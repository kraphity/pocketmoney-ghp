import{a as ne,m as se,u as U}from"./tag.37f4d314.js";import{p as Z,D as E,k as c,r as M,E as R,n as V,G as q,H as F,J as X,K as le,L as ue,M as ie,N as re,O as ce,P as ve,h as G,g as A,m as de,j as pe,Q as ye}from"./index.95d573ba.js";const B=Symbol.for("vuetify:layout"),J=Symbol.for("vuetify:layout-item"),D=1e3,me=Z({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),we=Z({name:{type:String},order:{type:[Number,String],default:0},absolute:Boolean},"layout-item");function fe(){const e=E(B);if(!e)throw new Error("[Vuetify] Could not find injected layout");return{getLayoutItem:e.getLayoutItem,mainRect:e.mainRect,mainStyles:e.mainStyles}}function Le(e){var v;const l=E(B);if(!l)throw new Error("[Vuetify] Could not find injected layout");const o=(v=e.id)!=null?v:`layout-item-${le()}`,u=q("useLayoutItem");X(J,{id:o});const n=M(!1);ue(()=>n.value=!0),ie(()=>n.value=!1);const{layoutItemStyles:i,layoutItemScrimStyles:r}=l.register(u,{...e,active:c(()=>n.value?!1:e.active.value),id:o});return re(()=>l.unregister(o)),{layoutItemStyles:i,layoutRect:l.layoutRect,layoutItemScrimStyles:r}}const ge=(e,l,o,u)=>{let n={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...n}}];for(const r of e){const v=l.get(r),f=o.get(r),b=u.get(r);if(!v||!f||!b)continue;const g={...n,[v.value]:parseInt(n[v.value],10)+(b.value?parseInt(f.value,10):0)};i.push({id:r,layer:g}),n=g}return i};function he(e){const l=E(B,null),o=c(()=>l?l.rootZIndex.value-100:D),u=M([]),n=R(new Map),i=R(new Map),r=R(new Map),v=R(new Map),f=R(new Map),{resizeRef:b,contentRect:g}=ne(),Q=c(()=>{var t;const a=new Map,d=(t=e.overlaps)!=null?t:[];for(const m of d.filter(s=>s.includes(":"))){const[s,p]=m.split(":");if(!u.value.includes(s)||!u.value.includes(p))continue;const h=n.get(s),w=n.get(p),L=i.get(s),z=i.get(p);!h||!w||!L||!z||(a.set(p,{position:h.value,amount:parseInt(L.value,10)}),a.set(s,{position:w.value,amount:-parseInt(z.value,10)}))}return a}),I=c(()=>{const a=[...new Set([...r.values()].map(t=>t.value))].sort((t,m)=>t-m),d=[];for(const t of a){const m=u.value.filter(s=>{var p;return((p=r.get(s))==null?void 0:p.value)===t});d.push(...m)}return ge(d,n,i,v)}),H=c(()=>!Array.from(f.values()).some(a=>a.value)),S=c(()=>I.value[I.value.length-1].layer),W=c(()=>({"--v-layout-left":V(S.value.left),"--v-layout-right":V(S.value.right),"--v-layout-top":V(S.value.top),"--v-layout-bottom":V(S.value.bottom),...H.value?void 0:{transition:"none"}})),x=c(()=>I.value.slice(1).map((a,d)=>{let{id:t}=a;const{layer:m}=I.value[d],s=i.get(t),p=n.get(t);return{id:t,...m,size:Number(s.value),position:p.value}})),k=a=>x.value.find(d=>d.id===a),C=q("createLayout"),N=M(!1);F(()=>{N.value=!0}),X(B,{register:(a,d)=>{let{id:t,order:m,position:s,layoutSize:p,elementSize:h,active:w,disableTransitions:L,absolute:z}=d;r.set(t,m),n.set(t,s),i.set(t,p),v.set(t,w),L&&f.set(t,L);const _=ce(J,C==null?void 0:C.vnode).indexOf(a);_>-1?u.value.splice(_,0,t):u.value.push(t);const j=c(()=>x.value.findIndex($=>$.id===t)),P=c(()=>o.value+I.value.length*2-j.value*2),te=c(()=>{const $=s.value==="left"||s.value==="right",O=s.value==="right",ae=s.value==="bottom",K={[s.value]:0,zIndex:P.value,transform:`translate${$?"X":"Y"}(${(w.value?0:-110)*(O||ae?-1:1)}%)`,position:z.value||o.value!==D?"absolute":"fixed",...H.value?void 0:{transition:"none"}};if(!N.value)return K;const y=x.value[j.value];if(!y)throw new Error(`[Vuetify] Could not find layout item "${t}"`);const T=Q.value.get(t);return T&&(y[T.position]+=T.amount),{...K,height:$?`calc(100% - ${y.top}px - ${y.bottom}px)`:h.value?`${h.value}px`:void 0,left:O?void 0:`${y.left}px`,right:O?`${y.right}px`:void 0,top:s.value!=="bottom"?`${y.top}px`:void 0,bottom:s.value!=="top"?`${y.bottom}px`:void 0,width:$?h.value?`${h.value}px`:void 0:`calc(100% - ${y.left}px - ${y.right}px)`}}),oe=c(()=>({zIndex:P.value-1}));return{layoutItemStyles:te,layoutItemScrimStyles:oe,zIndex:P}},unregister:a=>{r.delete(a),n.delete(a),i.delete(a),v.delete(a),f.delete(a),u.value=u.value.filter(d=>d!==a)},mainRect:S,mainStyles:W,getLayoutItem:k,items:x,layoutRect:g,rootZIndex:o});const Y=c(()=>["v-layout",{"v-layout--full-height":e.fullHeight}]),ee=c(()=>({zIndex:o.value,position:l?"relative":void 0,overflow:l?"hidden":void 0}));return{layoutClasses:Y,layoutStyles:ee,getLayoutItem:k,items:x,layoutRect:g,layoutRef:b}}function be(){const e=M(!1);return F(()=>{window.requestAnimationFrame(()=>{e.value=!0})}),{ssrBootStyles:c(()=>e.value?void 0:{transition:"none !important"}),isBooted:ve(e)}}const $e=G()({name:"VMain",props:{scrollable:Boolean,...se({tag:"main"})},setup(e,l){let{slots:o}=l;const{mainStyles:u}=fe(),{ssrBootStyles:n}=be();return U(()=>A(e.tag,{class:["v-main",{"v-main--scrollable":e.scrollable}],style:[u.value,n.value]},{default:()=>{var i,r;return[e.scrollable?A("div",{class:"v-main__scroller"},[(i=o.default)==null?void 0:i.call(o)]):(r=o.default)==null?void 0:r.call(o)]}})),{}}});const Re=G()({name:"VApp",props:{...me({fullHeight:!0}),...de()},setup(e,l){let{slots:o}=l;const u=pe(e),{layoutClasses:n,layoutStyles:i,getLayoutItem:r,items:v,layoutRef:f}=he(e),{rtlClasses:b}=ye();return U(()=>{var g;return A("div",{ref:f,class:["v-application",u.themeClasses.value,n.value,b.value],style:i.value},[A("div",{class:"v-application__wrap"},[(g=o.default)==null?void 0:g.call(o)])])}),{getLayoutItem:r,items:v,theme:u}}});export{$e as V,Le as a,Re as b,we as m,be as u};
